@using Enterprise.CMS.Authorization
@using Webdiyer.WebControls.Mvc
@model Enterprises.CMS.UserList.Dto.UsersSearchInput
<div id="content-header">
    <div id="breadcrumb"> <a href="#" title="Go to Home" class="tip-bottom"><i class="icon-home"></i> 首页</a> <a href="#" class="current">用户管理</a> </div>
    <h1>用户管理</h1>
</div>
<div class="container-fluid">
    <hr>
    <div class="row-fluid">
        <div class="span12">

            @using (Ajax.BeginForm("List", new RouteValueDictionary { { "id", "" } }, new AjaxOptions { UpdateTargetId = "AjaxPagerPangel", InsertionMode = InsertionMode.Replace }, new RouteValueDictionary { { "id", "searchForm" }, { "class", "form-horizontal" } }))
            {
                <div class="control-group controls-row">
                    <div class="form-group span3">
                        <label class="control-label" style="text-align: left; width: auto;">姓名：</label>
                        <div class="controls" style="margin-left: 0;">
                            @Html.TextBoxFor(p => p.Name, new { @class = "form-control", placeholder = "姓名" })
                        </div>
                    </div>
                    <div class="form-group span3">
                        <label class="control-label" style="text-align: left; width: auto;">手机号码：</label>
                        <div class="controls" style="margin-left: 0;">
                            @Html.TextBoxFor(p => p.Moble, new { @class = "form-control", placeholder = "手机号码" })
                        </div>
                    </div>
                    <div class="form-group span3">
                        <label class="control-label" style="text-align: left; width: auto;">手机号码：</label>
                        <div class="controls" style="margin-left: 0;">
                            @Html.TextBoxFor(p => p.Moble, new { @class = "form-control", placeholder = "手机号码" })
                        </div>
                    </div>
                    <div class="form-group span3">
                        <label class="control-label" style="text-align: left; width: auto;">手机号码：</label>
                        <div class="controls" style="margin-left: 0;">
                            @Html.TextBoxFor(p => p.Moble, new { @class = "form-control", placeholder = "手机号码" })
                        </div>
                    </div>   
                </div>
                <div class="col-sm-6 text-right">
                    @if (IsGranted(PermissionNames.AdministrationUsersCreate))
                    {
                        <a id="btCreate" href="javascript:void(0);" url="~/users/create" class="btn btn-success">新增</a>
                    }
                    <button type="submit" accesskey="S" class="btn btn-info">查询</button>
                </div>
            }

            <div class="widget-box" id="AjaxPagerPangel">
                @{ Html.RenderAction("list", "Users", new { id = Model.PageIndex }); }
            </div>
        </div>
    </div>
</div>

<div id="pageModal" class="modal hide"></div>
@section Scripts{
    <script src="~/Views/Users/Users.js"></script>
    @{Html.RegisterMvcPagerScriptResource();}
}